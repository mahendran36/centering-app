<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/materials"></ion-back-button>
    </ion-buttons>
    <ion-title>Create Material</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <!-- Breadcrumb -->
  <div class="breadcrumb">
    <ion-text color="medium">
      <span routerLink="materials" class="breadcrumb-link">Materials</span>
      <ion-icon name="chevron-forward"></ion-icon>
      <span>Create New</span>
    </ion-text>
  </div>

  <form [formGroup]="materialForm" (ngSubmit)="onSubmit()" class="form-container">
    <ion-card>
      <ion-card-header>
        <ion-card-title>Material Information</ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <ion-item>
          <ion-input label="Name" fill="outline" label-placement="floating" formControlName="name" type="text"></ion-input>
          <ion-note slot="error" *ngIf="materialForm.get('name')?.touched && materialForm.get('name')?.invalid">
            {{ getErrorMessage('name') }}
          </ion-note>
        </ion-item>

        <ion-item>
          <ion-select label="Category" fill="outline" label-placement="floating" formControlName="category">
            <ion-select-option *ngFor="let category of categories" [value]="category">
              {{ category }}
            </ion-select-option>
          </ion-select>
          <ion-note slot="error" *ngIf="materialForm.get('category')?.touched && materialForm.get('category')?.invalid">
            {{ getErrorMessage('category') }}
          </ion-note>
        </ion-item>

        <ion-item>
          <ion-input label="Plate Size" fill="outline" label-placement="floating" formControlName="plateSize" type="text"></ion-input>
        </ion-item>

        <ion-item>
          <ion-select label="Material Type" fill="outline" label-placement="floating" formControlName="materialType">
            <ion-select-option *ngFor="let type of materialTypes" [value]="type">
              {{ type }}
            </ion-select-option>
          </ion-select>
          <ion-note slot="error" *ngIf="materialForm.get('materialType')?.touched && materialForm.get('materialType')?.invalid">
            {{ getErrorMessage('materialType') }}
          </ion-note>
        </ion-item>

        <div class="dimensions-group">
          <ion-item>
            <ion-input label="Length (ft)" fill="outline" label-placement="floating" formControlName="length" type="number"></ion-input>
            <ion-note slot="error" *ngIf="materialForm.get('length')?.touched && materialForm.get('length')?.invalid">
              {{ getErrorMessage('length') }}
            </ion-note>
          </ion-item>

          <ion-item>
            <ion-input label="Width (ft)" fill="outline" label-placement="floating" formControlName="width" type="number"></ion-input>
            <ion-note slot="error" *ngIf="materialForm.get('width')?.touched && materialForm.get('width')?.invalid">
              {{ getErrorMessage('width') }}
            </ion-note>
          </ion-item>

          <ion-item>
            <ion-input label="Thickness (ft)" fill="outline" label-placement="floating" formControlName="thickness" type="number"></ion-input>
            <ion-note slot="error" *ngIf="materialForm.get('thickness')?.touched && materialForm.get('thickness')?.invalid">
              {{ getErrorMessage('thickness') }}
            </ion-note>
          </ion-item>
        </div>

        <ion-item>
          <ion-input label="Rental Rate (â‚¹/day)" fill="outline" label-placement="floating" formControlName="rentalRate" type="number"></ion-input>
          <ion-note slot="error" *ngIf="materialForm.get('rentalRate')?.touched && materialForm.get('rentalRate')?.invalid">
            {{ getErrorMessage('rentalRate') }}
          </ion-note>
        </ion-item>

        <ion-item>
          <ion-select label="Status" fill="outline" label-placement="floating" formControlName="status">
            <ion-select-option *ngFor="let status of statuses" [value]="status">
              {{ status }}
            </ion-select-option>
          </ion-select>
          <ion-note slot="error" *ngIf="materialForm.get('status')?.touched && materialForm.get('status')?.invalid">
            {{ getErrorMessage('status') }}
          </ion-note>
        </ion-item>

        <ion-item>
          <ion-input label="Quantity" fill="outline" label-placement="floating" formControlName="quantity" type="number"></ion-input>
          <ion-note slot="error" *ngIf="materialForm.get('quantity')?.touched && materialForm.get('quantity')?.invalid">
            {{ getErrorMessage('quantity') }}
          </ion-note>
        </ion-item>
      </ion-card-content>
    </ion-card>

    <div class="form-actions">
      <ion-button fill="outline" [routerLink]="'/materials'">
        Cancel
      </ion-button>
      <ion-button type="submit" [disabled]="materialForm.invalid">
        Save Material
      </ion-button>
    </div>
  </form>
</ion-content>